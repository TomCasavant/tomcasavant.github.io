<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Playlist Creator&amp;#58; A Python Spotify Creation</title>
		<meta name="description" content="Blog about things">
		<link rel="webmention" href="https://webmention.io/tomcasavant.com/webmention">
		<link rel="alternate" href="/blog.xml" type="application/rss+xml" title="Tom Casavant">
		<link rel="alternate" href="/feed.json" type="application/json" title="Tom Casavant">
		<link rel="blogroll" type="text/xml" href="/subscriptions.opml">

		<link rel="icon" type="image/png" sizes="32x32" href="/img/favicons/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="/img/favicons/favicon-16x16.png">
		<link rel="apple-touch-icon" sizes="180x180" href="/img/favicons/apple-touch-icon.png">
		<link rel="manifest" href="/img/favicons/site.webmanifest">
		<link rel="mask-icon" href="/img/favicons/safari-pinned-tab.svg" color="#5bbad5">
		<meta name="msapplication-TileImage" content="/img/favicons/mstile-150x150.png">
		<meta name="theme-color" content="#ffffff">
		<meta name="fediverse:creator" content="@tom@tomkahe.com">
		
		<link href="https://unpkg.com/prismjs@1.20.0/themes/prism-okaidia.css" rel="stylesheet">
		<style>* { box-sizing: border-box; }
/* Message Box */
* { box-sizing: border-box; }
.postlist { counter-reset: start-from 35 }
/* Message Box */
* { box-sizing: border-box; }
/* ========================================================================== */
/*                            CSS Variables & Themes                          */
/* ========================================================================== */

/* Base font families */
:root {
  --font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
    Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
  --font-mono: Consolas, Menlo, Monaco, "Andale Mono", "Lucida Console",
    monospace;

  /* Spacing scale */
  --space-xs: 0.25rem;
  --space-sm: 0.5rem;
  --space-md: 1rem;
  --space-lg: 1.5rem;
  --space-xl: 2.5rem;

  /* Font sizes */
  --font-xs: 0.75rem;
  --font-sm: 0.875rem;
  --font-md: 1rem;
  --font-lg: 1.25rem;
  --font-xl: 1.5rem;

  /* Border radius */
  --radius: 8px;

  /* Colors â€” Light theme */
  --color-bg: #fefefe;
  --color-bg-standout: #fff8f1;
  --color-text: #2a2a2a;
  --color-text-muted: #555;
  --color-text-link: #ad4e27;
  --color-text-link-hover: #d2691e;
  --color-border: #ddd;
  --color-shadow: rgba(0, 0, 0, 0.05);

  /* Accent */
  --color-accent: #d2691e;

  /* Syntax */
  --syntax-tab-size: 2;
}

/* Dark theme overrides */
@media (prefers-color-scheme: dark) {
  :root {
    --color-bg: #121212;
    --color-bg-standout: #1e1e1e;
    --color-text: #e0e0e0;
    --color-text-muted: #999;
    --color-text-link: #ffa500;
    --color-text-link-hover: #ffb733;
    --color-border: #333;
    --color-shadow: rgba(255, 255, 255, 0.1);
    --color-accent: #ffa500;
  }
}

/* ========================================================================== */
/*                                Base Reset                                  */
/* ========================================================================== */

*,
*::before,
*::after {
  box-sizing: border-box;
}

html,
body {
  margin: 0 auto;
  padding: 0;
  font-family: var(--font-sans);
  font-size: var(--font-md);
  line-height: 1.6;
  background-color: var(--color-bg);
  color: var(--color-text);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  scroll-behavior: smooth;
  min-height: 100vh;
  overflow-y: scroll;
}

h1,
h2,
h3,
h4,
h5,
h6 {
  margin-top: 0;
  font-weight: 600;
  line-height: 1.2;
  color: var(--color-text);
}

p,
li {
  margin-top: 0;
  margin-bottom: var(--space-md);
  color: var(--color-text-muted);
}

p:last-child {
  margin-bottom: 0;
}

/* ========================================================================== */
/*                                Typography                                  */
/* ========================================================================== */

code,
pre {
  font-family: var(--font-mono);
  background-color: var(--color-bg-standout);
  border-radius: var(--radius);
  padding: 0.15em 0.3em;
  font-size: var(--font-sm);
  color: var(--color-accent);
}

pre {
  display: block;
  padding: var(--space-md);
  overflow-x: auto;
  line-height: 1.4;
  margin: var(--space-lg) 0;
  white-space: pre-wrap;
  tab-size: var(--syntax-tab-size);
}

a {
  color: var(--color-text-link);
  text-decoration: none;
  transition: color 0.2s ease;
}

a:hover,
a:focus {
  color: var(--color-text-link-hover);
  outline: none;
  text-decoration: underline;
}

/* ========================================================================== */
/*                                Layout & Containers                         */
/* ========================================================================== */

main {
  max-width: 60em;
  margin: 0 auto;
  padding: var(--space-lg) var(--space-md);
}

header {
  display: flex;
  align-items: center;    /* vertically center items */
  gap: var(--space-md);
  padding: var(--space-md) var(--space-md);
  max-width: 60em;
  margin: 0 auto;
  border-bottom: 1px solid var(--color-border);
  /* no justify-content, so items stay grouped on the left */
}

.home-link {
  font-size: var(--font-lg);
  font-weight: 700;
  line-height: 1;
  display: inline-block;
  margin: 0;
  padding: 0;
  position: relative;
  top: -3px;  /* nudge up to align with nav */
}

.nav {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  gap: var(--space-md);
  font-size: var(--font-md);
  font-weight: 600;
}

.nav-item a {
  color: var(--color-text-muted);
  text-decoration: none;
  line-height: 1.2;
  padding: 0;
}

.nav-item a[aria-current='page'],
.nav-item a:hover,
.nav-item a:focus {
  color: var(--color-text-link);
  text-decoration: underline;
}


footer {
  padding: var(--space-lg) var(--space-md);
  font-size: var(--font-sm);
  text-align: center;
  color: var(--color-text-muted);
  border-top: 1px solid var(--color-border);
}

/* ========================================================================== */
/*                              Post List & Webmentions                       */
/* ========================================================================== */

/* Posts list */
.postlist {
	list-style: none;
	padding: 0;
	padding-left: 1.5rem;
	position: relative;
}
.postlist-item {
	display: flex;
	flex-wrap: wrap;
	align-items: baseline;
	counter-increment: start-from -1;
	margin-bottom: 1em;
	border: 1px solid #000;
	text-align: center;
	position: relative;
	padding-bottom: 2.5em;
}
.postlist-item:before {
	display: inline-block;
	pointer-events: none;
	/*content: "" counter(start-from, decimal-leading-zero) ". ";*/
	line-height: 100%;
	text-align: right;
	margin-left: -1.5rem;
}
.postlist-date,
.postlist-item:before {
	font-size: 1em; /* 13px /16 */
	color: var(--color-gray-90);
}
.postlist-date {
	word-spacing: -0.5px;
	flex-basis: calc(100% - 1.5rem);
}
.postlist-link {
	font-size: 1.6em; /* 19px /16 */
	font-weight: 700;
	flex-basis: calc(100% - 1.5rem);
	padding-left: .25em;
	padding-right: .5em;
	text-underline-position: from-font;
	text-underline-offset: 0;
	text-decoration-thickness: 1px;
}
.postlist-subtitle {
	font-size: 1em;
	font-weight: 400;
	flex-basis: calc(100% - 1.5rem);
	padding-left: .25em;
	padding-right: .5em;
	text-align: center;
}
.postlist-item-active .postlist-link {
	font-weight: bold;
}

/* Webmention container */
.postlist-webmentions {
  position: absolute;
  right: 0.5rem;
  top: 50%;
  transform: translateY(-50%);
  display: flex;
  gap: 0.5rem;
  justify-content: flex-end;
  align-items: center;
}

/* Webmention item */
.webmention-item {
  display: flex;
  align-items: center;
  gap: 0.2rem;
  font-size: 0.85rem;
  color: var(--color-text-link);
  user-select: none;
}

/* Webmention SVG icons */
.webmention-item svg {
  width: 16px;
  height: 16px;
  fill: none;
  stroke: var(--color-text-link);
  stroke-width: 2;
  stroke-linecap: round;
  stroke-linejoin: round;
}

/* Heart icon */
.heart-icon {
  width: 24px;
  height: 24px;
  fill: none;
  stroke: var(--color-text-link);
  stroke-width: 2;
  stroke-linecap: round;
  stroke-linejoin: round;
}

/* Count text */
.webmention-count {
  margin-left: 0.1rem;
  font-size: 0.85rem;
  line-height: 1;
  color: var(--color-text-link);
}

/* ========================================================================== */
/*                            SVG & Icon Styling                             */
/* ========================================================================== */

.message-box {
  display: flex;
  justify-content: center;   /* Center icons horizontally */
  align-items: center;       /* Center icons vertically */
  gap: 0.5rem;               /* Space between icons */
}

.message-box svg {
  display: block;
  vertical-align: middle;
  width: 24px;
  height: 24px;
  fill: currentColor;        /* Inherit text color */
  transition: fill 0.2s ease;
}

.message-box svg:last-child {
  margin-right: 0;           /* Remove right margin on last icon */
}

/* Example individual icon tweaks (adjust if needed) */
.bluesky-icon,
.rss-icon {
  transform: translateY(1px) scale(1.1);
}

.github-icon {
  transform: scale(1.1);
}

.ipod-icon {
  transform: translateY(1.5px) scale(1.5);
}

/* Form SVGs (e.g. search icon inside inputs) */
.form svg {
  position: absolute;
  top: 5px;
  right: 10px;
  width: 20px;
  height: 20px;
  fill: var(--color-text-muted);
  pointer-events: none; /* Prevents interfering with form */
}

/* Decorative SVG inside .well container */
.well svg {
  position: absolute;
  bottom: 0;
  right: 100px;
  transform: rotate(45deg);
  opacity: 0.15; /* Subtle effect */
  pointer-events: none;
}

/* Adjust margin for specific templating layout */
.tmpl-newspost .circles .content-780 {
  margin: 0 auto;
}

/* ========================================================================== */
/*                                Buttons & Links                            */
/* ========================================================================== */

.button,
button,
input[type='submit'] {
  background-color: var(--color-accent);
  color: var(--color-bg);
  border: none;
  padding: var(--space-sm) var(--space-md);
  border-radius: var(--radius);
  font-weight: 600;
  cursor: pointer;
  transition: background-color 0.2s ease;
}

.button:hover,
button:hover,
input[type='submit']:hover {
  background-color: #bf621e; /* Slightly darker accent */
}

.button:focus,
button:focus,
input[type='submit']:focus {
  outline: 2px solid var(--color-text-link);
  outline-offset: 2px;
}

/* ========================================================================== */
/*                                Portfolio Grid                              */
/* ========================================================================== */

.portfolio-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: var(--space-md);
  margin-top: var(--space-lg);
}

.project-box {
  background-color: var(--color-bg-standout);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  box-shadow: 0 2px 6px var(--color-shadow);
  padding: var(--space-md);
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
  transition: box-shadow 0.3s ease, transform 0.3s ease;
}

.project-box:hover,
.project-box:focus-within {
  box-shadow: 0 8px 20px rgba(214, 105, 30, 0.35);
  transform: translateY(-3px);
  outline: none;
}

.project-box h3 {
  margin: 0;
  font-size: var(--font-lg);
  color: var(--color-text);
}

.project-box p {
  flex-grow: 1;
  font-size: var(--font-sm);
  color: var(--color-text-muted);
}

.project-links a {
  font-size: var(--font-xs);
  color: var(--color-text-link);
  margin-right: var(--space-sm);
  transition: color 0.2s ease;
}

.project-links a:hover,
.project-links a:focus {
  color: var(--color-text-link-hover);
  text-decoration: underline;
}

.project-tags {
  list-style: none;
  padding: 0;
  margin: var(--space-sm) 0 0 0;
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-xs);
}

.project-tags li {
  background-color: var(--color-accent);
  color: var(--color-bg);
  font-size: var(--font-xs);
  padding: 0.2em 0.5em;
  border-radius: var(--radius);
  text-transform: capitalize;
}

/* ========================================================================== */
/*                              Tables & Lists                                */
/* ========================================================================== */

table {
  width: 100%;
  border-collapse: collapse;
  margin: var(--space-md) 0;
  font-family: var(--font-sans);
}

table th,
table td {
  padding: var(--space-sm);
  border: 1px solid var(--color-border);
  text-align: center;
  vertical-align: middle;
}

table tr:nth-child(even) {
  background-color: var(--color-bg-standout);
}

/* ========================================================================== */
/*                             Forms & Inputs                                 */
/* ========================================================================== */

input,
textarea,
select,
button {
  font-family: var(--font-sans);
  font-size: var(--font-md);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  padding: var(--space-sm);
  color: var(--color-text);
  background-color: var(--color-bg);
  transition: border-color 0.2s ease;
}

input:focus,
textarea:focus,
select:focus,
button:focus {
  outline: none;
  border-color: var(--color-accent);
  box-shadow: 0 0 0 3px rgba(210, 105, 30, 0.3);
}

/* ========================================================================== */
/*                             Utility & Helpers                              */
/* ========================================================================== */

.card {
  background-color: var(--color-bg-standout);
  border: 1px solid var(--color-border);
  box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.1);
  border-radius: var(--radius);
  padding: var(--space-md);
  max-width: 400px;
  margin: var(--space-lg) auto; /* centers horizontally and adds vertical spacing */
  color: var(--color-text);
  transition: box-shadow 0.3s ease, transform 0.3s ease;
  font-size: var(--font-md);
}


.card:hover,
.card:focus-within {
  box-shadow: 4px 4px 15px rgba(210, 105, 30, 0.4);
  transform: translateY(-2px);
  outline: none;
}

.bookmark-title {
  margin: 0 0 var(--space-sm) 0;
  text-align: center;
  font-weight: 700;
  font-size: var(--font-lg);
}

.bookmark-title a {
  color: var(--color-text-link);
  text-decoration: none;
  transition: color 0.2s ease;
}

.bookmark-title a:hover,
.bookmark-title a:focus {
  color: var(--color-text-link-hover);
  text-decoration: underline;
}

.bookmark-summary {
  margin: 0;
  font-size: var(--font-sm);
  color: var(--color-text-muted);
  text-align: center;
  line-height: 1.4;
}

/* Ensure spacing between multiple cards */
.card + .card {
  margin-top: var(--space-lg);
}


/* Visually hidden for accessibility */
.visually-hidden {
  clip: rect(0 0 0 0);
  clip-path: inset(50%);
  height: 1px;
  overflow: hidden;
  position: absolute;
  white-space: nowrap;
  width: 1px;
}

/* Center text utility */
.text-center {
  text-align: center;
}

/* Margin and padding utilities */
.m-0 {
  margin: 0 !important;
}
.p-0 {
  padding: 0 !important;
}

/* ========================================================================== */
/*                               Responsive Design                            */
/* ========================================================================== */

@media (max-width: 768px) {
  main {
    padding: var(--space-md);
  }

  .portfolio-grid {
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  }
}

@media (max-width: 480px) {
  .portfolio-grid {
    grid-template-columns: 1fr;
  }

  header {
    flex-direction: column;
    align-items: flex-start;
  }

  .nav {
    flex-wrap: wrap;
    gap: var(--space-sm);
  }
}

.timeline-container {
  max-width: 60em;
  margin: var(--space-lg) auto;
  padding: 0 var(--space-md);
}

.timeline {
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
  position: relative;
  padding-left: 1.5rem; /* space for timeline line */
  border-left: 3px solid var(--color-accent);
}

.timeline .outer {
  position: relative;
  padding-left: 1rem;
}

.timeline .outer::before {
  content: '';
  position: absolute;
  left: -1.8rem;
  top: 0.75rem;
  width: 12px;
  height: 12px;
  background-color: var(--color-accent);
  border-radius: 50%;
  box-shadow: 0 0 5px var(--color-accent);
}

.microblog-card {
  background-color: var(--color-bg-standout);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  padding: var(--space-md);
  box-shadow: 0 2px 6px var(--color-shadow);
  color: var(--color-text);
  font-size: var(--font-md);
  transition: box-shadow 0.3s ease, transform 0.3s ease;
}

.microblog-card:hover,
.microblog-card:focus-within {
  box-shadow: 0 8px 20px rgba(210, 105, 30, 0.35);
  transform: translateY(-3px);
  outline: none;
}

.microblog-post-link {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  color: var(--color-text-link);
  text-decoration: none;
  font-weight: 600;
  transition: color 0.2s ease;
}

.microblog-post-link:hover,
.microblog-post-link:focus {
  color: var(--color-text-link-hover);
  text-decoration: underline;
}

.fediverse-post-icon svg {
  width: 20px;
  height: 20px;
  fill: var(--color-accent);
  flex-shrink: 0;
}

/* Optional: Adjust timeline vertical spacing on smaller screens */
@media (max-width: 768px) {
  .timeline-container {
    padding: 0 var(--space-sm);
  }
  .timeline {
    padding-left: 1rem;
    border-left-width: 2px;
  }
  .timeline .outer::before {
    left: -1.4rem;
    width: 10px;
    height: 10px;
  }
}

.notvisible {
	display: none;
}</style>

		
		<!-- OpenGraph Meta Tags -->
		<meta property="og:title" content="Playlist Creator&amp;#58; A Python Spotify Creation - Tom Casavant">
		<meta property="og:description" content="Blog about things">
		
		  <meta property="og:image" content="/img/opengraph/opengraph.png">
		
		
		<meta property="og:url" content="/playlist-creator-and-58-a-python-spotify-creation/">
		<meta property="og:type" content="article">
		<meta property="og:site_name" content="Tom Casavant">
	</head>
	<body>

		<a href="#skip" class="visually-hidden">Skip to main content</a>

		<header>

		<style>
		  .h-card {
		    display: none;
		  }
		</style>
	
		<span class="h-card">
		  <a class="u-url" rel="me" href="/img/images/tomface.png">Tom Casavant</a>
		  <img class="u-photo" src="/img/images/tomface.png">
			<img class="u-featured" src="img/opengraph/opengraph.png">
		</span>

			<a href="/" class="home-link">Tom Casavant</a>
			<nav>
				<h2 class="visually-hidden">Top level navigation menu</h2>
				<ul class="nav">
					<li class="nav-item"><a href="/">Home</a></li>
					<li class="nav-item"><a href="/blog/">Archive</a></li>
					<li class="nav-item"><a href="/portfolio/">Portfolio</a></li>
					<li class="nav-item"><a href="/bookmarks/">Bookmarks</a></li>
					<li class="nav-item"><a href="/feeds/">Feeds</a></li>
					<li class="nav-item"><a href="/food/">Food</a></li>
					<li class="nav-item"><a href="/photography/">Photography</a></li>
				</ul>
			</nav>
		</header>

		<main id="skip">
			

<article class="h-entry">
    <h1 class="p-name">Playlist Creator&amp;#58; A Python Spotify Creation</h1>

    <ul class="post-metadata">
        <li><time class="dt-published" datetime="2017-03-30">30 March 2017</time></li>
    </ul>

    <div class="e-content">
        <p>On my Spotify account, there is a single playlist, a playlist with 14 hours worth of music that has been accumulating for months upon months. One obvious problem with this is that I don't want to listen to all this music all the time, I should have separate playlists depending on whether I am going for a run or trying to get to sleep. That's where my python programming came in handy. A simple google search for &quot;Spotify api&quot; brought me to this page, <a href="https://developer.spotify.com/web-api/">https://developer.spotify.com/web-api/</a>, which led me to the python wrapper Spotipy (<a href="https://spotipy.readthedocs.io/en/latest/">https://spotipy.readthedocs.io/en/latest/</a>). Once again you have to get all your prerequisites complete before you move onto the actual programming. So head over to <a href="https://developer.spotify.com/my-applications/#!/applications">https://developer.spotify.com/my-applications/#!/applications</a> to get your Spotify API keys and then install via PIP the spotipy library. After those prerequisites go ahead and create your config.ini file as such:</p>
<p>[spotify]
CLIENT_ID = SpotifyClientIDHere
CLIENT_SECRET = SpotifyClientSecretHere
REDIRECT_URI = SpotifyClientRedirectUrI</p>
<p>Your REDIRECT_URI will be what your app redirects to when retrieving a user's authentication. In my case, I am using my website <a href="http://www.tomcasavant.com">http://www.tomcasavant.com</a>. But, you can just as simply use http://localhost/ as your REDIRECT_URI. Whatever you use you must go to your app settings on Spotify and add the REDIRECT_URI to the allowed websites list. Next, you can start up a new file (mine is called main.py) to create your program. Start with all your necessary imports</p>
<p>import spotipy
import spotipy.util as util
from ConfigParser import SafeConfigParser</p>
<p>Next, create a User class, and all of the following methods will be constructed inside this class unless I otherwise specify.</p>
<p>class User():
def <strong>init</strong>(self):
parser = SafeConfigParser() #Reads config.ini file for API keys
parser.read(&quot;config.ini&quot;)
self.CLIENT_ID = parser.get('spotify', 'CLIENT_ID')
self.CLIENT_SECRET = parser.get('spotify', 'CLIENT_SECRET')
self.REDIRECT_URI = parser.get('spotify', 'REDIRECT_URI')
self.SCOPE = &quot;playlist-read-private playlist-modify-private playlist-read-collaborative playlist-modify-public&quot; #Allows program to access/edit private and public playlists
self.sp = self.getUser() #Creates Spotify Instance
self.id = self.sp.me()['id'] #Gets ID of authenticating user</p>
<p>Your parser will retrieve all your private API keys. The major bit of code in this portion is the self.SCOPE variable. In order to be allowed to access all the playlists of the authenticating user, your program must announce to Spotify what it would like access to. In this case, I chose to have the ability to read all public, private, and collaborative playlists of the user followed by allowing the program to edit all these playlists. You can look at all the possible scopes here:<a href="https://developer.spotify.com/web-api/using-scopes/"> https://developer.spotify.com/web-api/using-scopes/</a> just keep in mind all the scopes are separated by spaces (not by commas or anything else) The next two methods get the user authenticated with the Spotify API</p>
<p>def getUser(self):
&quot;&quot;&quot;Creates Spotify instance for Authenticating User&quot;&quot;&quot;
token = self.getUserToken()
sp = spotipy.Spotify(auth=token)
sp.trace = False
return sp</p>
<p>def getUserToken(self):
&quot;&quot;&quot;Gets authentication token from user&quot;&quot;&quot;
name = raw_input(&quot;Please enter your username: &quot;)
token = util.prompt_for_user_token(username=name,scope=self.SCOPE, client_id=self.CLIENT_ID, client_secret=self.CLIENT_SECRET, redirect_uri=self.REDIRECT_URI)
return token</p>
<p>Basically, what this code does is ask for the username of the person accessing this, then it uses util.prompt_for_user_token(...) to get the authentication token. Back in the getUser() method the program creates a Spotify instance named sp which can be accessed with self.sp. Then we get to the interesting methods in this program:</p>
<p>def getFeatures(self, track):
&quot;&quot;&quot;Retrieves Audio features from Spotify API for a single track&quot;&quot;&quot;
features = self.sp.audio_features(track)
return features</p>
<p>def getPlaylist(self):
&quot;&quot;&quot;Retrieves all playlists from authenticating user, then allows user to select one&quot;&quot;&quot;
results = self.sp.current_user_playlists()
for i, item in enumerate(results['items']):
print (&quot;{number} {name}&quot;.format(number=i, name=item['name'].encode('utf8'))) #Prints out the name of each playlist, preceded by a number</p>
<p>choice = input(&quot;Please choose a playlist number: &quot;)
return results['items'][int(choice)]['id']</p>
<p>def getSongs(self, playlist_id):
&quot;&quot;&quot;Gets all songs from a chosen playlist, returns a lsit of all song ids&quot;&quot;&quot;
results = self.sp.user_playlist_tracks(self.id,playlist_id)
tracks = results['items']
song_ids = []
while results['next']:
results = self.sp.next(results)
tracks.extend(results['items'])
for song in tracks:
song_ids.append(song['track']['id'])
return song_ids</p>
<p>The getFeatures(self, track) function takes an argument for a track id and returns all the features of the track. Some features include danceability, loudness, and instrumentalness. All of the features can be found here: <a href="https://developer.spotify.com/web-api/get-audio-features/">https://developer.spotify.com/web-api/get-audio-features/</a> The getPlaylist(self) method goes through and prints all the playlists of the authenticating user, and the proceeds to ask the user to choose one of them as a source playlist. The getSongs(self, playlist_id) method goes through and saves the ids of all the tracks in the chosen playlist. Now we need a way to ask for all of the different preferences that the user is looking for in his/her new playlist. Which can be accomplished with a bunch of raw_input() variables as shown in this method:</p>
<p>def getLimits(self):
&quot;&quot;&quot;Asks user for the minimums and maximums for each condition, leaving a blank responistse will return the lowest or highest possible value. Then asks user to name the playlist&quot;&quot;&quot;
danceL = float(raw_input(&quot;Danceability minimum (how suitable track is for dancing 0.0-1.0): &quot;) or &quot;0&quot;)
danceH = float(raw_input(&quot;Danceability maximum: &quot;) or &quot;1&quot;)
energyL = float(raw_input(&quot;Energy minimum (intensity, or speed of a track 0.0-1.0): &quot;) or &quot;0&quot;)
energyH = float(raw_input(&quot;Energy maximum: &quot;) or &quot;1&quot;)
loudL = float(raw_input(&quot;Loudness minimum (Overall loudness of a track in decibels -60-0): &quot;) or &quot;-60&quot;)
loudH = float(raw_input(&quot;Loudness maximum: &quot;) or &quot;0&quot;)
acousticL = float(raw_input(&quot;Acousticness minimum (measure of whether a track is acoustic 0.0-1): &quot;) or &quot;0&quot;)
acousticH = float(raw_input(&quot;Acousticness maximum: &quot;) or &quot;1&quot;)
instrumentL = float(raw_input(&quot;Instrumentalness minimum (Predicts whether track contains no vocals 0.0-1.0): &quot;) or &quot;0&quot;)
instrumentH = float(raw_input(&quot;Instrumentalness maximum: &quot;) or &quot;1&quot;)
livenessL = float(raw_input(&quot;Liveness minimum (Detects presence of audience 0.0-1.0): &quot;) or &quot;0&quot;)
livenessH = float(raw_input(&quot;Liveness maximum: &quot;) or &quot;1&quot;)
valenceL = float(raw_input(&quot;Valence minimum (Positivity measurement 0.0-1.0): &quot;) or &quot;0&quot;)
valenceH = float(raw_input(&quot;Valence maximum: &quot;) or &quot;1&quot;)
name = raw_input(&quot;Please name your playlist: &quot;)
return [danceL, danceH, energyL, energyH, loudL, loudH, acousticL, acousticH, instrumentL, instrumentH, livenessL, livenessH, valenceL, valenceH, name]</p>
<p>This method goes through and asks for the minimum and maximum values for each attribute (as well as a name for the new playlist). If no value is provided it just selects the lowest/highest possible value. Then it returns all of these preferences in a list. We then need a method to check the values of each song and then return the songs that fall within the limits. We also need to take all these songs and create a new playlist.</p>
<p>def sortSongs(self, songF, danceL, danceH, energyL, energyH, loudL, loudH, acousticL, acousticH,
instrumentL, instrumentH, livenessL, livenessH, valenceL, valenceH):
&quot;&quot;&quot;Returns True if all conditions are met. Conditions include: Danceability, Energy, Loudness, Acousticness, Instrumentalness, Liveness, and Valence&quot;&quot;&quot;
if danceL &lt;= songF['danceability'] &lt;= danceH:
if energyL &lt;= songF['energy'] &lt;= energyH:
if loudL &lt;= songF['loudness'] &lt;= loudH:
if acousticL &lt;= songF['acousticness'] &lt;= acousticH:
if instrumentL &lt;= songF['instrumentalness'] &lt;= instrumentH:
if livenessL &lt;= songF['liveness'] &lt;= livenessH:
if valenceL &lt;= songF['valence'] &lt;= valenceH:
return True</p>
<p>def createPlaylist(self, title, tracks):
&quot;&quot;&quot;Creates a new playlist from all tracks that met conditions&quot;&quot;&quot;
playlist = self.sp.user_playlist_create(self.id, title, False)
for track in tracks:
self.sp.user_playlist_add_tracks(self.id, playlist['id'], [track])
print &quot;Playlist Created&quot;</p>
<p>These two methods are basically self-explanatory, one verifies whether a song falls into a certain range of values. The other creates the new playlist and adds all the songs. However, one thing to note is that the second method createPlaylist(...) fills the new playlist one song at a time. The reason this was done is that Spotify only allows you a maximum of a hundred songs added at once, so I just decided to go one by one just in case the list exceeds 100 tracks. We finish this class off with our main function:</p>
<p>def main(self):
playlist = self.getPlaylist()
songs = self.getSongs(playlist)
newPlaylist = []
pref = self.getLimits()
for song_id in songs:
song = self.getFeatures([song_id])
if self.sortSongs(song[0], pref[0], pref[1], pref[2], pref[3], pref[4], pref[5], pref[6], pref[7], pref[8], pref[9], pref[10], pref[11], pref[12], pref[13]):
newPlaylist.append(song[0]['id'])</p>
<p>self.createPlaylist(pref[14], newPlaylist)</p>
<p>This function goes through and runs all the necessary methods in order, finishing it off by creating the new playlist. Now, all we need is for the program to start which can be completed very easily as such (This is outside of the class):</p>
<p>if <strong>name</strong> == &quot;<strong>main</strong>&quot;:
SpotifyUser = User()
SpotifyUser.main()</p>
<p>There's your Spotify (spotipy) app. If you wanted a playlist with high energy songs just run this script and set the minimum value for energy at something around '.7', the maximum at its default '1' and let the program do its work. All this code can be found All this code can be found on GitHub here: https://github.com/Twin802/PlaylistCreator/<a href="https://github.com/Twin802/PlaylistCreator/">https://github.com/Twin802/PlaylistCreator/</a></p>

    </div>

    <a href="/playlist-creator-and-58-a-python-spotify-creation/" class="u-url"></a>
    <ul class="links-nextprev"><li>Previous: <a href="/cleverslack-and-58-a-cleverbot-slack-implementation/">CleverSlack&amp;#58; A Cleverbot/Slack Implementation</a></li><li>Next: <a href="/autotldr-and-58-summarizing-news-on-twitter/">AutoTLDR&amp;#58; Summarizing News on Twitter</a></li>
    </ul>

		<a class="u-bridgy-fed" href="https://fed.brid.gy/" hidden="from-humans"></a>
</article>

<section>  
  <h2>Webmentions</h2>  
  
  <div class="webmentions content-grid-sibling" id="webmentions">

  
  
  
  
  
  
  







<p>These are <a href="https://indieweb.org/Webmention">webmentions</a> via the <a href="https://indieweb.org/">IndieWeb</a> and <a href="https://webmention.io/">webmention.io</a>. Mention this post from your site:</p>

<form action="https://webmention.io/tomcasavant.com/webmention" method="post" class="form-webmention">
    <label for="form-webmention-source">URL</label><br>
    <input id="form-webmention-source" type="url" name="source" placeholder="https://example.com" required="">
    <input type="hidden" name="target" value="https://tomcasavant.com/playlist-creator-and-58-a-python-spotify-creation/">
    <input type="submit" class="button button-small" value="Send Webmention">
  </form>
</div>

</section>


		</main>

		<footer></footer>

		<!-- This page `/playlist-creator-and-58-a-python-spotify-creation/` was built on 2026-01-10T21:50:11.643Z -->
	</body>
</html>
