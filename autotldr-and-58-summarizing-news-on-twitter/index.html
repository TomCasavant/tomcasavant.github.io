<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>AutoTLDR&amp;#58; Summarizing News on Twitter</title>
		<meta name="description" content="Blog about things">
		<link rel="webmention" href="https://webmention.io/tomcasavant.com/webmention">
		<link rel="alternate" href="/blog.xml" type="application/rss+xml" title="Tom Casavant">
		<link rel="alternate" href="/feed.json" type="application/json" title="Tom Casavant">
		<link rel="blogroll" type="text/xml" href="/subscriptions.opml">

		<link rel="icon" type="image/png" sizes="32x32" href="/img/favicons/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="/img/favicons/favicon-16x16.png">
		<link rel="apple-touch-icon" sizes="180x180" href="/img/favicons/apple-touch-icon.png">
		<link rel="manifest" href="/img/favicons/site.webmanifest">
		<link rel="mask-icon" href="/img/favicons/safari-pinned-tab.svg" color="#5bbad5">
		<meta name="msapplication-TileImage" content="/img/favicons/mstile-150x150.png">
		<meta name="theme-color" content="#ffffff">
		<meta name="fediverse:creator" content="@tom@tomkahe.com">
		
		<link href="https://unpkg.com/prismjs@1.20.0/themes/prism-okaidia.css" rel="stylesheet">
		<style>* { box-sizing: border-box; }
/* Message Box */
* { box-sizing: border-box; }
.postlist { counter-reset: start-from 35 }
/* Message Box */
* { box-sizing: border-box; }
/* ========================================================================== */
/*                            CSS Variables & Themes                          */
/* ========================================================================== */

/* Base font families */
:root {
  --font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
    Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
  --font-mono: Consolas, Menlo, Monaco, "Andale Mono", "Lucida Console",
    monospace;

  /* Spacing scale */
  --space-xs: 0.25rem;
  --space-sm: 0.5rem;
  --space-md: 1rem;
  --space-lg: 1.5rem;
  --space-xl: 2.5rem;

  /* Font sizes */
  --font-xs: 0.75rem;
  --font-sm: 0.875rem;
  --font-md: 1rem;
  --font-lg: 1.25rem;
  --font-xl: 1.5rem;

  /* Border radius */
  --radius: 8px;

  /* Colors â€” Light theme */
  --color-bg: #fefefe;
  --color-bg-standout: #fff8f1;
  --color-text: #2a2a2a;
  --color-text-muted: #555;
  --color-text-link: #ad4e27;
  --color-text-link-hover: #d2691e;
  --color-border: #ddd;
  --color-shadow: rgba(0, 0, 0, 0.05);

  /* Accent */
  --color-accent: #d2691e;

  /* Syntax */
  --syntax-tab-size: 2;
}

/* Dark theme overrides */
@media (prefers-color-scheme: dark) {
  :root {
    --color-bg: #121212;
    --color-bg-standout: #1e1e1e;
    --color-text: #e0e0e0;
    --color-text-muted: #999;
    --color-text-link: #ffa500;
    --color-text-link-hover: #ffb733;
    --color-border: #333;
    --color-shadow: rgba(255, 255, 255, 0.1);
    --color-accent: #ffa500;
  }
}

/* ========================================================================== */
/*                                Base Reset                                  */
/* ========================================================================== */

*,
*::before,
*::after {
  box-sizing: border-box;
}

html,
body {
  margin: 0 auto;
  padding: 0;
  font-family: var(--font-sans);
  font-size: var(--font-md);
  line-height: 1.6;
  background-color: var(--color-bg);
  color: var(--color-text);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  scroll-behavior: smooth;
  min-height: 100vh;
  overflow-y: scroll;
}

h1,
h2,
h3,
h4,
h5,
h6 {
  margin-top: 0;
  font-weight: 600;
  line-height: 1.2;
  color: var(--color-text);
}

p,
li {
  margin-top: 0;
  margin-bottom: var(--space-md);
  color: var(--color-text-muted);
}

p:last-child {
  margin-bottom: 0;
}

/* ========================================================================== */
/*                                Typography                                  */
/* ========================================================================== */

code,
pre {
  font-family: var(--font-mono);
  background-color: var(--color-bg-standout);
  border-radius: var(--radius);
  padding: 0.15em 0.3em;
  font-size: var(--font-sm);
  color: var(--color-accent);
}

pre {
  display: block;
  padding: var(--space-md);
  overflow-x: auto;
  line-height: 1.4;
  margin: var(--space-lg) 0;
  white-space: pre-wrap;
  tab-size: var(--syntax-tab-size);
}

a {
  color: var(--color-text-link);
  text-decoration: none;
  transition: color 0.2s ease;
}

a:hover,
a:focus {
  color: var(--color-text-link-hover);
  outline: none;
  text-decoration: underline;
}

/* ========================================================================== */
/*                                Layout & Containers                         */
/* ========================================================================== */

main {
  max-width: 60em;
  margin: 0 auto;
  padding: var(--space-lg) var(--space-md);
}

header {
  display: flex;
  align-items: center;    /* vertically center items */
  gap: var(--space-md);
  padding: var(--space-md) var(--space-md);
  max-width: 60em;
  margin: 0 auto;
  border-bottom: 1px solid var(--color-border);
  /* no justify-content, so items stay grouped on the left */
}

.home-link {
  font-size: var(--font-lg);
  font-weight: 700;
  line-height: 1;
  display: inline-block;
  margin: 0;
  padding: 0;
  position: relative;
  top: -3px;  /* nudge up to align with nav */
}

.nav {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  gap: var(--space-md);
  font-size: var(--font-md);
  font-weight: 600;
}

.nav-item a {
  color: var(--color-text-muted);
  text-decoration: none;
  line-height: 1.2;
  padding: 0;
}

.nav-item a[aria-current='page'],
.nav-item a:hover,
.nav-item a:focus {
  color: var(--color-text-link);
  text-decoration: underline;
}


footer {
  padding: var(--space-lg) var(--space-md);
  font-size: var(--font-sm);
  text-align: center;
  color: var(--color-text-muted);
  border-top: 1px solid var(--color-border);
}

/* ========================================================================== */
/*                              Post List & Webmentions                       */
/* ========================================================================== */

/* Posts list */
.postlist {
	list-style: none;
	padding: 0;
	padding-left: 1.5rem;
	position: relative;
}
.postlist-item {
	display: flex;
	flex-wrap: wrap;
	align-items: baseline;
	counter-increment: start-from -1;
	margin-bottom: 1em;
	border: 1px solid #000;
	text-align: center;
	position: relative;
	padding-bottom: 2.5em;
}
.postlist-item:before {
	display: inline-block;
	pointer-events: none;
	/*content: "" counter(start-from, decimal-leading-zero) ". ";*/
	line-height: 100%;
	text-align: right;
	margin-left: -1.5rem;
}
.postlist-date,
.postlist-item:before {
	font-size: 1em; /* 13px /16 */
	color: var(--color-gray-90);
}
.postlist-date {
	word-spacing: -0.5px;
	flex-basis: calc(100% - 1.5rem);
}
.postlist-link {
	font-size: 1.6em; /* 19px /16 */
	font-weight: 700;
	flex-basis: calc(100% - 1.5rem);
	padding-left: .25em;
	padding-right: .5em;
	text-underline-position: from-font;
	text-underline-offset: 0;
	text-decoration-thickness: 1px;
}
.postlist-subtitle {
	font-size: 1em;
	font-weight: 400;
	flex-basis: calc(100% - 1.5rem);
	padding-left: .25em;
	padding-right: .5em;
	text-align: center;
}
.postlist-item-active .postlist-link {
	font-weight: bold;
}

/* Webmention container */
.postlist-webmentions {
  position: absolute;
  right: 0.5rem;
  top: 50%;
  transform: translateY(-50%);
  display: flex;
  gap: 0.5rem;
  justify-content: flex-end;
  align-items: center;
}

/* Webmention item */
.webmention-item {
  display: flex;
  align-items: center;
  gap: 0.2rem;
  font-size: 0.85rem;
  color: var(--color-text-link);
  user-select: none;
}

/* Webmention SVG icons */
.webmention-item svg {
  width: 16px;
  height: 16px;
  fill: none;
  stroke: var(--color-text-link);
  stroke-width: 2;
  stroke-linecap: round;
  stroke-linejoin: round;
}

/* Heart icon */
.heart-icon {
  width: 24px;
  height: 24px;
  fill: none;
  stroke: var(--color-text-link);
  stroke-width: 2;
  stroke-linecap: round;
  stroke-linejoin: round;
}

/* Count text */
.webmention-count {
  margin-left: 0.1rem;
  font-size: 0.85rem;
  line-height: 1;
  color: var(--color-text-link);
}

/* ========================================================================== */
/*                            SVG & Icon Styling                             */
/* ========================================================================== */

.message-box {
  display: flex;
  justify-content: center;   /* Center icons horizontally */
  align-items: center;       /* Center icons vertically */
  gap: 0.5rem;               /* Space between icons */
}

.message-box svg {
  display: block;
  vertical-align: middle;
  width: 24px;
  height: 24px;
  fill: currentColor;        /* Inherit text color */
  transition: fill 0.2s ease;
}

.message-box svg:last-child {
  margin-right: 0;           /* Remove right margin on last icon */
}

/* Example individual icon tweaks (adjust if needed) */
.bluesky-icon,
.rss-icon {
  transform: translateY(1px) scale(1.1);
}

.github-icon {
  transform: scale(1.1);
}

.ipod-icon {
  transform: translateY(1.5px) scale(1.5);
}

/* Form SVGs (e.g. search icon inside inputs) */
.form svg {
  position: absolute;
  top: 5px;
  right: 10px;
  width: 20px;
  height: 20px;
  fill: var(--color-text-muted);
  pointer-events: none; /* Prevents interfering with form */
}

/* Decorative SVG inside .well container */
.well svg {
  position: absolute;
  bottom: 0;
  right: 100px;
  transform: rotate(45deg);
  opacity: 0.15; /* Subtle effect */
  pointer-events: none;
}

/* Adjust margin for specific templating layout */
.tmpl-newspost .circles .content-780 {
  margin: 0 auto;
}

/* ========================================================================== */
/*                                Buttons & Links                            */
/* ========================================================================== */

.button,
button,
input[type='submit'] {
  background-color: var(--color-accent);
  color: var(--color-bg);
  border: none;
  padding: var(--space-sm) var(--space-md);
  border-radius: var(--radius);
  font-weight: 600;
  cursor: pointer;
  transition: background-color 0.2s ease;
}

.button:hover,
button:hover,
input[type='submit']:hover {
  background-color: #bf621e; /* Slightly darker accent */
}

.button:focus,
button:focus,
input[type='submit']:focus {
  outline: 2px solid var(--color-text-link);
  outline-offset: 2px;
}

/* ========================================================================== */
/*                                Portfolio Grid                              */
/* ========================================================================== */

.portfolio-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: var(--space-md);
  margin-top: var(--space-lg);
}

.project-box {
  background-color: var(--color-bg-standout);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  box-shadow: 0 2px 6px var(--color-shadow);
  padding: var(--space-md);
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
  transition: box-shadow 0.3s ease, transform 0.3s ease;
}

.project-box:hover,
.project-box:focus-within {
  box-shadow: 0 8px 20px rgba(214, 105, 30, 0.35);
  transform: translateY(-3px);
  outline: none;
}

.project-box h3 {
  margin: 0;
  font-size: var(--font-lg);
  color: var(--color-text);
}

.project-box p {
  flex-grow: 1;
  font-size: var(--font-sm);
  color: var(--color-text-muted);
}

.project-links a {
  font-size: var(--font-xs);
  color: var(--color-text-link);
  margin-right: var(--space-sm);
  transition: color 0.2s ease;
}

.project-links a:hover,
.project-links a:focus {
  color: var(--color-text-link-hover);
  text-decoration: underline;
}

.project-tags {
  list-style: none;
  padding: 0;
  margin: var(--space-sm) 0 0 0;
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-xs);
}

.project-tags li {
  background-color: var(--color-accent);
  color: var(--color-bg);
  font-size: var(--font-xs);
  padding: 0.2em 0.5em;
  border-radius: var(--radius);
  text-transform: capitalize;
}

/* ========================================================================== */
/*                              Tables & Lists                                */
/* ========================================================================== */

table {
  width: 100%;
  border-collapse: collapse;
  margin: var(--space-md) 0;
  font-family: var(--font-sans);
}

table th,
table td {
  padding: var(--space-sm);
  border: 1px solid var(--color-border);
  text-align: center;
  vertical-align: middle;
}

table tr:nth-child(even) {
  background-color: var(--color-bg-standout);
}

/* ========================================================================== */
/*                             Forms & Inputs                                 */
/* ========================================================================== */

input,
textarea,
select,
button {
  font-family: var(--font-sans);
  font-size: var(--font-md);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  padding: var(--space-sm);
  color: var(--color-text);
  background-color: var(--color-bg);
  transition: border-color 0.2s ease;
}

input:focus,
textarea:focus,
select:focus,
button:focus {
  outline: none;
  border-color: var(--color-accent);
  box-shadow: 0 0 0 3px rgba(210, 105, 30, 0.3);
}

/* ========================================================================== */
/*                             Utility & Helpers                              */
/* ========================================================================== */

.card {
  background-color: var(--color-bg-standout);
  border: 1px solid var(--color-border);
  box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.1);
  border-radius: var(--radius);
  padding: var(--space-md);
  max-width: 400px;
  margin: var(--space-lg) auto; /* centers horizontally and adds vertical spacing */
  color: var(--color-text);
  transition: box-shadow 0.3s ease, transform 0.3s ease;
  font-size: var(--font-md);
}


.card:hover,
.card:focus-within {
  box-shadow: 4px 4px 15px rgba(210, 105, 30, 0.4);
  transform: translateY(-2px);
  outline: none;
}

.bookmark-title {
  margin: 0 0 var(--space-sm) 0;
  text-align: center;
  font-weight: 700;
  font-size: var(--font-lg);
}

.bookmark-title a {
  color: var(--color-text-link);
  text-decoration: none;
  transition: color 0.2s ease;
}

.bookmark-title a:hover,
.bookmark-title a:focus {
  color: var(--color-text-link-hover);
  text-decoration: underline;
}

.bookmark-summary {
  margin: 0;
  font-size: var(--font-sm);
  color: var(--color-text-muted);
  text-align: center;
  line-height: 1.4;
}

/* Ensure spacing between multiple cards */
.card + .card {
  margin-top: var(--space-lg);
}


/* Visually hidden for accessibility */
.visually-hidden {
  clip: rect(0 0 0 0);
  clip-path: inset(50%);
  height: 1px;
  overflow: hidden;
  position: absolute;
  white-space: nowrap;
  width: 1px;
}

/* Center text utility */
.text-center {
  text-align: center;
}

/* Margin and padding utilities */
.m-0 {
  margin: 0 !important;
}
.p-0 {
  padding: 0 !important;
}

/* ========================================================================== */
/*                               Responsive Design                            */
/* ========================================================================== */

@media (max-width: 768px) {
  main {
    padding: var(--space-md);
  }

  .portfolio-grid {
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  }
}

@media (max-width: 480px) {
  .portfolio-grid {
    grid-template-columns: 1fr;
  }

  header {
    flex-direction: column;
    align-items: flex-start;
  }

  .nav {
    flex-wrap: wrap;
    gap: var(--space-sm);
  }
}

.timeline-container {
  max-width: 60em;
  margin: var(--space-lg) auto;
  padding: 0 var(--space-md);
}

.timeline {
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
  position: relative;
  padding-left: 1.5rem; /* space for timeline line */
  border-left: 3px solid var(--color-accent);
}

.timeline .outer {
  position: relative;
  padding-left: 1rem;
}

.timeline .outer::before {
  content: '';
  position: absolute;
  left: -1.8rem;
  top: 0.75rem;
  width: 12px;
  height: 12px;
  background-color: var(--color-accent);
  border-radius: 50%;
  box-shadow: 0 0 5px var(--color-accent);
}

.microblog-card {
  background-color: var(--color-bg-standout);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  padding: var(--space-md);
  box-shadow: 0 2px 6px var(--color-shadow);
  color: var(--color-text);
  font-size: var(--font-md);
  transition: box-shadow 0.3s ease, transform 0.3s ease;
}

.microblog-card:hover,
.microblog-card:focus-within {
  box-shadow: 0 8px 20px rgba(210, 105, 30, 0.35);
  transform: translateY(-3px);
  outline: none;
}

.microblog-post-link {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  color: var(--color-text-link);
  text-decoration: none;
  font-weight: 600;
  transition: color 0.2s ease;
}

.microblog-post-link:hover,
.microblog-post-link:focus {
  color: var(--color-text-link-hover);
  text-decoration: underline;
}

.fediverse-post-icon svg {
  width: 20px;
  height: 20px;
  fill: var(--color-accent);
  flex-shrink: 0;
}

/* Optional: Adjust timeline vertical spacing on smaller screens */
@media (max-width: 768px) {
  .timeline-container {
    padding: 0 var(--space-sm);
  }
  .timeline {
    padding-left: 1rem;
    border-left-width: 2px;
  }
  .timeline .outer::before {
    left: -1.4rem;
    width: 10px;
    height: 10px;
  }
}

.notvisible {
	display: none;
}</style>

		
		<!-- OpenGraph Meta Tags -->
		<meta property="og:title" content="AutoTLDR&amp;#58; Summarizing News on Twitter - Tom Casavant">
		<meta property="og:description" content="Blog about things">
		
		  <meta property="og:image" content="/img/opengraph/opengraph.png">
		
		
		<meta property="og:url" content="/autotldr-and-58-summarizing-news-on-twitter/">
		<meta property="og:type" content="article">
		<meta property="og:site_name" content="Tom Casavant">
	</head>
	<body>

		<a href="#skip" class="visually-hidden">Skip to main content</a>

		<header>

		<style>
		  .h-card {
		    display: none;
		  }
		</style>
	
		<span class="h-card">
		  <a class="u-url" rel="me" href="/img/images/tomface.png">Tom Casavant</a>
		  <img class="u-photo" src="/img/images/tomface.png">
			<img class="u-featured" src="img/opengraph/opengraph.png">
		</span>

			<a href="/" class="home-link">Tom Casavant</a>
			<nav>
				<h2 class="visually-hidden">Top level navigation menu</h2>
				<ul class="nav">
					<li class="nav-item"><a href="/">Home</a></li>
					<li class="nav-item"><a href="/blog/">Archive</a></li>
					<li class="nav-item"><a href="/portfolio/">Portfolio</a></li>
					<li class="nav-item"><a href="/bookmarks/">Bookmarks</a></li>
					<li class="nav-item"><a href="/feeds/">Feeds</a></li>
					<li class="nav-item"><a href="/food/">Food</a></li>
					<li class="nav-item"><a href="/photography/">Photography</a></li>
				</ul>
			</nav>
		</header>

		<main id="skip">
			

<article class="h-entry">
    <h1 class="p-name">AutoTLDR&amp;#58; Summarizing News on Twitter</h1>

    <ul class="post-metadata">
        <li><time class="dt-published" datetime="2017-04-05">05 April 2017</time></li>
    </ul>

    <div class="e-content">
        <p>On Reddit, there is a bot named autotldr (<a href="https://www.reddit.com/user/autotldr">https://www.reddit.com/user/autotldr</a>) who uses one of the various text summarizer websites (i.e. <a href="http://textsummarization.net/text-summarizer">http://textsummarization.net/text-summarizer</a>) to simplify different news articles posted on Reddit in a few sentences. This intrigued me, so I looked into it and there is, in fact, a Python library that allows you to summarize articles very easily called sumy (https://pypi.python.org/pypi/sumy). Install with &quot;pip install sumy&quot; The Twython Library (pip install Twython) also interfaces with the Streaming API from Twitter, and API which lets me read tweets in real time. This is what we'll be using to create our AutoTLDR twitter account. Obviously, first you have to get your Twitter app credentials from <a href="https://dev.twitter.com/">https://dev.twitter.com/</a> and then create your config.ini file:</p>
<p>[twitter]
API_KEY = ###API KEY HERE###
API_SECRET = ###API SECRET HERE###
ACCESS_TOKEN = ###ACCESS TOKEN HERE###
ACCESS_SECRET = ###ACCESS SECRET HERE###</p>
<p>Then onto your main.py file, we'll start with the imports:</p>
<p>from sumy.parsers.html import HtmlParser
from sumy.nlp.tokenizers import Tokenizer
from sumy.summarizers.lex_rank import LexRankSummarizer as Summarizer
from sumy.nlp.stemmers import Stemmer
from sumy.utils import get_stop_words
from ConfigParser import SafeConfigParser
from twython import TwythonStreamer
from twython import Twython</p>
<p>Basically here you're just importing your necessary sumy modules, followed by your ConfigParser, and finally everything you need from your Twython library. After importing everything you can start a class for your Twython Streaming API as such:</p>
<p>class myStreamer(TwythonStreamer):
def on_success(self, data):
&quot;&quot;&quot;If data received, check if this is an original tweet from one of chosen news sources, then reply&quot;&quot;&quot;
if 'text' in data:
try:
if not data['retweeted'] and not data['in_reply_to_status_id'] and '@' not in data['text'] and not data['is_quote_status']:
reply(data['entities']['urls'][0]['expanded_url'], data['id'], data['user']['screen_name'])
#	print &quot;Responded&quot;
#	print data
except:
pass
def on_timeout(self, data):
print &quot;Timeout&quot;
def on_error(self, status_code, data):
print status_code</p>
<p>The first function on_success(self, data) is what the Streamer will run whenever it is successful in retrieving data from the Twitter API. First, we check if the data received is a tweet by checking if the 'text' key is in data. Next, we verify that the tweet is not a retweet/reply/or quote. After verifying all these conditions the bot will run the reply function (we'll program this soon). The on_timeout(self, data) function is run if the Streamer is timed out (currently the bot just prints that there was a timeout, but you could insert code that restarts the Streamer). Finally, the on_error(self, status_code, data) just prints out if any other error is reached. Next, we can program our reply function like this:</p>
<p>def reply(url, id, screen_name):
&quot;&quot;&quot;Replies to a tweet with summary given id&quot;&quot;&quot;
#print id
summary = getSummary(url, 3)
split = splitText(summary, 140) #Splits text every 140 characters
id = twitter.update_status(status=&quot;@&quot;+ screen_name + &quot; Here is a short summary of the posted link:&quot;, in_reply_to_status_id=id)['id'] #Posts initial tweet and saves ID
for segment in split:
#Send tweet for every 140 characters in reply format
id = twitter.update_status(status=segment, in_reply_to_status_id=id)['id']</p>
<p>The reply(url, id, screen_name) function uses the Twitter Rest API (in the Twython library) to reply to the original tweet with a series of tweets about the article. First, it retrieves a summary using the url from the tweet with the function getSummary (which we will soon create). Then it splits the text every 140 characters using another function splitText (again, we will create this). Then it replies to the original tweet with &quot; Here is a short summary of the posted link:&quot;. Note: when posting a reply to a tweet you not only have to include the id with &quot;in_reply_to_status_id&quot; but you also have to tag the user with the &quot;@&quot; symbol. TO finish it off, the function loops through the sentence list in the variable 'split' and replies to the previous tweet. The next two functions deal with retrieving the split sentences:</p>
<p>LANGUAGE = &quot;english&quot;</p>
<p>def getSummary(url, sentences):
&quot;&quot;&quot;Gets summary of article using sumy&quot;&quot;&quot;
parser = HtmlParser.from_url(url, Tokenizer(LANGUAGE))
stemmer = Stemmer(LANGUAGE)</p>
<p>summarizer = Summarizer(stemmer)
summarizer.stop_words = get_stop_words(LANGUAGE)
fullText = &quot;&quot;
for sentence in summarizer(parser.document, sentences):
fullText += str(sentence) + &quot; &quot;</p>
<p>return fullText</p>
<p>def splitText(text, n):
&quot;&quot;&quot;Splits text every n characters&quot;&quot;&quot;
newText = []
while text:
newText.append(text[:n])
text = text[n:]
return newText</p>
<p>The getSummary(url, sentences) function examines the url. Then it constructs a string from all of the sentences and returns that variable (fullText). The splitText function will take the string and break it into sentences of 'n' length. In our case, it splits every 140 characters. We finish the program off by calling all of the important functions:</p>
<p>if <strong>name</strong> == '<strong>main</strong>':
parser = SafeConfigParser()
parser.read(&quot;config.ini&quot;)
API_KEY = parser.get('twitter', 'API_KEY')
API_SECRET = parser.get('twitter', 'API_SECRET')
ACCESS_TOKEN = parser.get('twitter', 'ACCESS_TOKEN')
ACCESS_SECRET = parser.get('twitter', 'ACCESS_SECRET')</p>
<p>twitter = Twython(API_KEY, API_SECRET, ACCESS_TOKEN, ACCESS_SECRET)
stream = myStreamer(API_KEY, API_SECRET, ACCESS_TOKEN, ACCESS_SECRET)
stream.statuses.filter(follow=['5392522', '612473', '5402612','742143','5741722'], filter_level='low') #Reads from certain Twitter Accounts (@NPR, @BBC, @BBCNews...)</p>
<p>First, we obtain the API keys from our config file using SafeConfigParser, then we create a twitter instance and a streamer instance. The Streamer uses the &quot;follow=&quot; argument to follow certain accounts. You can obtain these id's using your own code, but I found it much easier to just go to <a href="http://mytwitterid.com/">http://mytwitterid.com/</a> and enter the username of the account you'd like the bot to keep track of. In my case, I followed NPR, BBC, and BBCNews (as well as a few others I can't remember off the top of my head). Now you can run your program in the background (if you're on a UNIX system) using &quot;nohup python main.py &amp;&quot;. My twitter account is currently active here: <a href="https://twitter.com/auto_tldr">https://twitter.com/auto_tldr</a> (@auto_tldr) You can view all this code on Github here: <a href="https://github.com/Twin802/AutoTLDR">https://github.com/Twin802/AutoTLDR</a></p>

    </div>

    <a href="/autotldr-and-58-summarizing-news-on-twitter/" class="u-url"></a>
    <ul class="links-nextprev"><li>Previous: <a href="/playlist-creator-and-58-a-python-spotify-creation/">Playlist Creator&amp;#58; A Python Spotify Creation</a></li><li>Next: <a href="/slackarchiver-and-58-using-mongo-to-archive-slack-messages-featuring-and-34-docker-and-34/">SlackArchiver&amp;#58; Using Mongo to archive Slack messages (Featuring &amp;#34;Docker&amp;#34;)</a></li>
    </ul>

		<a class="u-bridgy-fed" href="https://fed.brid.gy/" hidden="from-humans"></a>
</article>

<section>  
  <h2>Webmentions</h2>  
  
  <div class="webmentions content-grid-sibling" id="webmentions">

  
  
  
  
  
  
  







<p>These are <a href="https://indieweb.org/Webmention">webmentions</a> via the <a href="https://indieweb.org/">IndieWeb</a> and <a href="https://webmention.io/">webmention.io</a>. Mention this post from your site:</p>

<form action="https://webmention.io/tomcasavant.com/webmention" method="post" class="form-webmention">
    <label for="form-webmention-source">URL</label><br>
    <input id="form-webmention-source" type="url" name="source" placeholder="https://example.com" required="">
    <input type="hidden" name="target" value="https://tomcasavant.com/autotldr-and-58-summarizing-news-on-twitter/">
    <input type="submit" class="button button-small" value="Send Webmention">
  </form>
</div>

</section>


		</main>

		<footer></footer>

		<!-- This page `/autotldr-and-58-summarizing-news-on-twitter/` was built on 2025-08-28T21:42:26.847Z -->
	</body>
</html>
